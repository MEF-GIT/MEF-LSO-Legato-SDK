$schema: http://json-schema.org/draft-07/schema#
$id: urn:mef:lso:spec:legato:IpvcEndPoint:v2.0.0:all
title: MEF LSO Legato - IP IPVC End Point Service Specifications
description:
  An IP Service is formed of an IP Virtual Connection (IPVC) that links together IPVC End Points at External Interfaces (EIs). Reference MEF 61.1 Section 7.4 IP Virtual Connections and IPVC End Points.
type: object
required:
  - identifier
  - eiType
  - prefixMapping
  - ingressClassOfServiceMap
  - egressClassOfServiceMap
properties:
  ipvcIdentifier:
  type: string
        maxLength: 53
        description: Unique identifier for the ENNI for management purposes. Reference MEF 61.1 Section 14.1 ENNI Identifier Service Attribute.
  administrativeState:
    $ref: 'ipCommon.yaml#/definitions/AdministrativeState'
  operationalState:
    $ref: 'ipCommon.yaml#/definitions/OperationalState'
  identifier:
    type: string
    maxLength: 53
    description: A unique identifier for the IPVC End Point for management purposes. Reference MEF 61.1 Section 11.1 IPVC EP Identifier Service Attribute.
  eiType:
    $ref: '#/definitions/ExternalInterfaceType'
  role:
    $ref: '#/definitions/IpvcEndPointRole'
  prefixMapping:
    $ref: 'ipCommon.yaml#/definitions/Ipv4Ipv6Prefixes'
  enniServiceMappingIdentifier:
    type: string
    maxLength: 53
    description: ENNI Service Mapping Identifier assigned by the SP/SO for associating IPVC End Points across and ENNI. (Operator IPVC End Points only). Reference MEF 61.1 Section 11.6 IPVC EP ENNI Service Mapping Identifier Service Attribute.
  maximumNumberOfIpv4Routes:
    type: integer
    description: Maximum number of IPv4 routes supported by this IPVC End Point. Reference MEF 61.1 Section 11.7 IPVC EP Maximum Number of IPv4 Routes Service Attribute. Absence of this attribute corresponds to a value of “Unlimited”.
  maximumNumberOfIpv6Routes:
    type: integer
    description: Maximum number of IPv6 routes supported by this IPVC End Point. Reference MEF 61.1 Section 11.8 IPVC EP Maximum Number of IPv6 Routes Service Attribute. Absence of this attribute corresponds to a value of “Unlimited”.
  ingressClassOfServiceMap:
    $ref: '#/definitions/IngressClassOfServiceMap'
  egressClassOfServiceMap:
    $ref: '#/definitions/EgressClassOfServiceMap'
  ingressBandwidthProfileEnvelope:
    $ref: '#/definitions/IpvcEpIngressBwpEnvelope'
  egressBandwidthProfileEnvelope:
    $ref: '#/definitions/IpvcEpEgressBwpEnvelope'
  ipUni:
    
definitions:
  ExternalInterfaceType:
    type: string
    description: Indicates whether the IPVC End Point is at a UNI or an ENNI. (Operator IPVC EPs only). Reference MEF 61.1 Section 11.2 IPVC EP EI Type Service Attribute.
    enum:
    - UNI
    - ENNI
  IpvcEndPointRole:
    type: string
    description: The IPVC End Point Role is one of Root, Leaf, or Trunk and specifies the role the IPVC EP plays in the IPVC Topology. Reference MEF 61.1 Section 11.4 IPVC EP Role Service Attribute.
    enum:
    - ROOT
    - LEAF
    - TRUNK
  Ipv6Subnet:
    type: object
    properties:
      ipv6Prefix:
        $ref: 'sdWanCommon.yaml#/definitions/Ipv6Prefix'
      serviceProviderIpv6Addresses:
        minItems: 1
        type: array
        description: List of IPv6 Service Provider addresses.
        items:
          type: string
    description: IPv6Subnet is a data type representing an IPv6 subnet logical partition of an IP network. Included is list of Service Provider IPv6 addresses.